Updated Wishlist UI (Razor View - Wishlist.cshtml)
cshtml
Copy code
@using System.Security.Claims
@model Entities.ViewModels.ProductDTO
@{
    Layout = "_Layout";
    ViewData["Title"] = "Wishlist";
    var role = User.FindFirst(ClaimTypes.Role)?.Value;
}
<link rel="stylesheet" href="~/css/wishlist.css" asp-append-version="true" />

<div class="wishlist-container">
    <div class="wishlist-header text-center">
        <i class="far fa-heart"></i>
        <h2>My Wishlist</h2>
    </div>
    <div id="WishlistItems" class="wishlist-grid row g-4"></div>
    <div class="text-center my-3" id="loading-spinner" style="display: none;">
        <div class="spinner-border text-primary"></div>
    </div>
</div>

@section Scripts {
    <script src="~/js/wishlist.js" asp-append-version="true"></script>
}
✅ 2. CSS (wishlist.css)
Use this updated CSS:

css
Copy code
body {
    background-color: #f9f9f9;
    font-family: 'Segoe UI', sans-serif;
}

.wishlist-container {
    max-width: 1200px;
    margin: 40px auto;
    padding: 20px;
}

.wishlist-header h2 {
    font-size: 32px;
    font-weight: bold;
}

.wishlist-grid {
    display: flex;
    flex-wrap: wrap;
}

.wishlist-item {
    background-color: #fff;
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    width: 100%;
    max-width: 300px;
    margin: 10px;
}

.wishlist-item img {
    width: 100%;
    border-radius: 8px;
}

.wishlist-item .product-name {
    font-size: 18px;
    font-weight: bold;
    margin-top: 10px;
}

.wishlist-item .price {
    font-size: 16px;
    color: #c4a300;
}

.old-price {
    text-decoration: line-through;
    color: #999;
    margin-right: 5px;
}

.btn-add {
    margin-top: 10px;
    background-color: #3c9;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
}

.btn-add:hover {
    background-color: #34b88a;
}

.remove-icon {
    color: #888;
    float: right;
    cursor: pointer;
}

.remove-icon:hover {
    color: #e74c3c;
}
✅ 3. Partial View (_Wishlist.cshtml)
c
Copy code
@model IPagedList<Entities.ViewModels.ProductDTO>

@foreach (var item in Model)
{
    <div class="wishlist-item col-md-4">
        <div class="remove-icon" onclick="removeFromWishlist(@item.Productid)">
            <i class="fas fa-trash-alt"></i>
        </div>
        <img src="@item.Images" alt="@item.Name" />
        <div class="product-name">@item.Name</div>
        <div>
            @if(item.OldPrice != null)
            {
                <span class="old-price">₹@item.OldPrice</span>
            }
            <span class="price">₹@item.Price</span>
        </div>
        <button class="btn-add" onclick="addToCart(@item.Productid)">Add to Cart</button>
    </div>
}
✅ 4. JavaScript (wishlist.js) with Lazy Loading
javascript
Copy code
let page = 1;
let loading = false;

function loadMoreWishlistItems() {
    if (loading) return;
    loading = true;
    $('#loading-spinner').show();

    $.ajax({
        url: '/Product/GetWishlist',
        type: 'GET',
        data: { page: page },
        success: function (data) {
            $('#WishlistItems').append(data);
            page++;
            loading = false;
            $('#loading-spinner').hide();
        },
        error: function () {
            console.error('Failed to load wishlist items.');
            $('#loading-spinner').hide();
        }
    });
}

// Load on scroll
$(window).scroll(function () {
    if ($(window).scrollTop() + $(window).height() >= $(document).height() - 300) {
        loadMoreWishlistItems();
    }
});

// Initial load
$(document).ready(function () {
    loadMoreWishlistItems();
});
✅ 5. Controller
No change needed except remove ViewBag.PageSize if not used:

csharp
Copy code
public IActionResult GetWishlist(PaginationOptions filterOptions)
{
    filterOptions.Page ??= 1;
    filterOptions.PageSize = 6;

    var products = _productService.GetWishlist(filterOptions);
    return PartialView("_Wishlist", products);
}
✅ 6. Service and Repository
Your service logic is fine as-is. Just ensure that:

csharp
Copy code
int pageSize = filterOptions.PageSize > 0 ? filterOptions.PageSize : 6;
