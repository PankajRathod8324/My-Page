<div class="mb-3">
    <label for="eventDateTime" class="form-label">Event Date & Time</label>
    <input type="datetime-local" class="form-control" id="eventDateTime" name="EventDateTime" required>
    <div class="form-text text-danger" id="dateError" style="display:none;">Please select a date/time after tomorrow at the current time.</div>
</div>
<script>
    window.addEventListener('DOMContentLoaded', function () {
        const dateInput = document.getElementById('eventDateTime');

        const now = new Date();
        // Add 1 day while preserving hours, minutes, seconds
        const tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, now.getHours(), now.getMinutes(), now.getSeconds());

        // Format to "YYYY-MM-DDTHH:MM" for datetime-local
        const year = tomorrow.getFullYear();
        const month = ('0' + (tomorrow.getMonth() + 1)).slice(-2);
        const day = ('0' + tomorrow.getDate()).slice(-2);
        const hours = ('0' + tomorrow.getHours()).slice(-2);
        const minutes = ('0' + tomorrow.getMinutes()).slice(-2);

        const minDateTime = `${year}-${month}-${day}T${hours}:${minutes}`;
        dateInput.min = minDateTime;

        // Optional: Prevent form submission if the user tries to bypass using the inspector
        const form = dateInput.form;
        form.addEventListener('submit', function (e) {
            if (new Date(dateInput.value) < tomorrow) {
                e.preventDefault();
                document.getElementById('dateError').style.display = 'block';
                dateInput.focus();
            }
        });
    });
</script>
