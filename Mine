public List<OrderCategoryVM> GetOrderCategoryItem(int categoryId)
{
    var categoryData = _context.MenuCategories
        .Where(c => c.CategoryId == categoryId)
        .Select(c => new OrderCategoryVM
        {
            CategoryId = c.CategoryId,
            CategoryName = c.CategoryName,
            OrderItems = _context.OrderItems
                .Where(oi => _context.MenuItems
                    .Any(mi => mi.ItemId == oi.ItemId && mi.CategoryId == categoryId))
                .Select(oi => new OrderItemVM
                {
                    ItemId = oi.ItemId,
                    ItemName = oi.ItemId.HasValue ? _menuRepository.GetItemNameById(oi.ItemId.Value) : "No Item",
                    Price = oi.Rate,
                    Quantity = oi.Quantity,
                    Modifiers = _context.OrderModifiers
                        .Where(om => om.OrderItemId == oi.OrderItemId && om.ItemId == oi.ItemId)
                        .Select(om => new OrderModifierVM
                        {
                            ModifierId = om.ModifierId ?? 0,
                            ModifierName = om.ModifierId.HasValue ? _menuRepository.GetModifierNameById(om.ModifierId.Value) : "No Modifier",
                            ModifierRate = om.Rate,
                            Quantity = om.Quantity
                        }).ToList()
                }).ToList()
        }).ToList();

    return categoryData;
}
