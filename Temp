 [Authorize(Policy = "MenuEditPolicy")]
    [HttpPost]
    public IActionResult AddMenuItem([FromBody] JsonObject menuItemdata)
    {
        // if (!ModelState.IsValid)
        // {
        //     foreach (var state in ModelState)
        //     {
        //         foreach (var error in state.Value.Errors)
        //         {
        //             Console.WriteLine($"Property: {state.Key}, Error: {error.ErrorMessage}");
        //         }
        //     }
        //     return View(menuItem);
        // }
        MenuCategoryVM menuCategoryVM = JsonConvert.DeserializeObject<MenuCategoryVM>((string)menuItemdata);

        Console.WriteLine(menuCategoryVM);
        // // Step 1: Save Menu Item
        // var menuitem = new MenuItem
        // {
        //     CategoryId = menuItem.CategoryId,
        //     ItemName = menuItem.ItemName,
        //     ItemtypeId = menuItem.ItemtypeId,
        //     Rate = menuItem.Rate,
        //     Quantity = menuItem.Quantity,
        //     UnitId = menuItem.UnitId,
        //     IsAvailable = menuItem.IsAvailable,
        //     TaxDefault = menuItem.TaxDefault,
        //     TaxPercentage = menuItem.TaxPercentage,
        //     ShortCode = menuItem.ShortCode,
        //     Description = menuItem.Description
        // };

        // _menuService.AddMenuItem(menuitem);

        // // Step 2: Save Multiple Modifier Groups
        // if (menuItem.ModifierGroupIds != null && menuItem.ModifierGroupIds.Any())
        // {
        //     foreach (var modifierGroupId in menuItem.ModifierGroupIds)
        //     {
        //         var menuitemmodifier = new ItemModifierGroup
        //         {
        //             ItemId = menuitem.ItemId, // Link to menu item
        //             ModifierGroupId = modifierGroupId.ModifierGroupId,
        //             MinSelection = menuItem.MinSelection,
        //             MaxSelection = menuItem.MaxSelection
        //         };

        //         _menuService.AddMenuItemModifierGroup(menuitemmodifier);
        //     }
        // }

        TempData["Message"] = "Menu item added successfully!";
        TempData["MessageType"] = "success";

        return RedirectToAction("MenuModifier", "Menu");
    }
