public IActionResult FilterOrders(string filterBy)
{
    var orders = _dbContext.Orders.AsQueryable();

    if (!string.IsNullOrEmpty(filterBy))
    {
        DateTime now = DateTime.Now;

        switch (filterBy)
        {
            case "Recent":
                orders = orders.OrderByDescending(o => o.OrderDate).Take(10);
                break;
            case "Last 7 days":
                orders = orders.Where(o => o.OrderDate >= now.AddDays(-7));
                break;
            case "Last 30 days":
                orders = orders.Where(o => o.OrderDate >= now.AddDays(-30));
                break;
            case "Current Month":
                orders = orders.Where(o => o.OrderDate.Month == now.Month && o.OrderDate.Year == now.Year);
                break;
            case "All time":
            default:
                // No filter needed, return all orders
                break;
        }
    }

    return PartialView("_OrderListPartial", orders.ToList());
}
